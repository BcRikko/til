---
layout: ../../../layouts/Layout.astro
pubDate: "2024-04-18"
updatedDate: "2024-04-18"
title: "ECMAScript Stage 4 になった仕様"
author: ダーシノ
description: "ECMAScript Stage 4 になった仕様"
tags: ["JavaScript"]
---

import Header from '../../../components/Header.astro'

<Header {...frontmatter} />

## [New Set methods](https://github.com/tc39/proposal-set-methods)

```js
const A = new Set(...)

A.difference(B)   // A \ B
A.intersection(B) // A ∩ B
A.union(B)        // A ∪ B
...
```

上記のように集合に関するメソッドが使えるようになる。


## [Duplicate named capture groups](https://github.com/tc39/proposal-duplicate-named-capturing-groups)

キャプチャグループの名前がユニークでないといけなかったけど、同名のグループ名が使えるようになる。

### Before

```js
> '2024-04-18'.match(/(?<year>[0-9]{4})-[0-9]{2}|[0-9]{2}-(?<year>[0-9]{4})/)
// Uncaught SyntaxError: Invalid regular expression: /(?<year>[0-9]{4})-[0-9]{2}|[0-9]{2}-(?<year>[0-9]{4})/: Duplicate capture group name
```


### After

```js
> '2024-04-18'.match(/(?<year>[0-9]{4})-[0-9]{2}|[0-9]{2}-(?<year>[0-9]{4})/)
// { ..., group: { year: '2024' } }

> '18-04-2024'.match(/(?<year>[0-9]{4})-[0-9]{2}|[0-9]{2}-(?<year>[0-9]{4})/)
// { ..., group: { year: '2024' } }
```


## 参考

- [ECMAScript proposal updates @ 2024\-04 \| ECMAScript Daily](https://ecmascript-daily.github.io/ecmascript/2024/04/17/ecmascript-proposal-update)
